image: "rust:latest"

test:
    stage: test
    script:
        - rustc --version && cargo --version
        - cargo test --workspace --verbose

pages:
    stage: deploy
    script:
        - cargo doc --no-deps
        - mkdir public
        - mv target/doc/ public
    artifacts:
        paths:
            - public
